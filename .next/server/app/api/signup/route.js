(()=>{var e={};e.id=722,e.ids=[722],e.modules={587:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(6037),o=t.n(s);let a=new(o()).Schema({username:{type:String,required:[!0,"Please provide a username"]},email:{type:String,required:[!0,"Please provide a email"]},password:{type:String,required:[!0,"Please provide a password"]},isVerified:{type:Boolean,required:!0},forgotPasswordToken:String,forgotPasswordTokenExpiry:Date,verifiedToken:String,verifiedTokenExpiry:Date}),n=o().models.Researcher||o().model("Researcher",a)},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5019:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>v,routeModule:()=>c,serverHooks:()=>x,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{POST:()=>l});var o=t(6559),a=t(8088),n=t(7719),i=t(7679),u=t(587),p=t(5663),d=t(2190);async function l(e){try{let r=await e.json(),{username:t,email:s,password:o}=r;if(console.log(r),await u.A.findOne({email:s}))return d.NextResponse.json({error:"User already exists"},{status:400});let a=await p.Ay.genSalt(10),n=await p.Ay.hash(o,a),i=new u.A({username:t,email:s,password:n,isVerified:!1}),l=await i.save();return console.log(l),d.NextResponse.json({message:"Researcher created Sucessfully",sucess:!0,savedUser:l})}catch(e){return d.NextResponse.json({error:e},{status:500})}}(0,i.x)();let c=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/signup/route",pathname:"/api/signup",filename:"route",bundlePath:"app/api/signup/route"},resolvedPagePath:"/Users/abodhale/e-cart/CTIS/app/api/signup/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:x}=c;function v(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},5511:e=>{"use strict";e.exports=require("crypto")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},7679:(e,r,t)=>{"use strict";t.d(r,{x:()=>i});var s=t(6037),o=t.n(s);let a="mongodb+srv://abodhale:blgedfFHVAz4aSsV@cluster0.qdtfbk8.mongodb.net/CTRS?retryWrites=true&w=majority&appName=Cluster0";if(!a)throw Error("Please define the MONGO_URI environment variable inside .env.local");let n=global.mongoose;async function i(){return n.conn||(n.promise||(n.promise=o().connect(a,{dbName:"CTRS",bufferCommands:!1}).then(e=>e)),n.conn=await n.promise),n.conn}n||(n=global.mongoose={conn:null,promise:null})},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,580,663],()=>t(5019));module.exports=s})();