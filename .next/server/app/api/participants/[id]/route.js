(()=>{var e={};e.id=498,e.ids=[498],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>x,serverHooks:()=>b,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{GET:()=>m,POST:()=>w,PUT:()=>g});var a=r(6559),i=r(8088),s=r(7719),o=r(7679),p=r(6037),u=r.n(p);let d=new p.Schema({id:{type:Number,required:!0},name:{type:String,required:!0},dob:{type:String,required:!0},gender:{type:String,required:!0},contact:{type:String,required:!0},medicalHistory:{type:String,required:!0},trialId:{type:Number,required:!0}}),c=u().models.Participant||u().model("Participant",d);var l=r(2190);async function m(e,{params:t}){let{id:r}=await t;await (0,o.x)();let n=await c.find({trialId:Number(r)});return 0===n.length?new l.NextResponse("No participants found.",{status:404}):l.NextResponse.json(n,{status:200})}async function g(e,{params:t}){let{id:r}=await t;await (0,o.x)();let n=await e.json(),a=await c.findOneAndUpdate({id:Number(r)},{$set:n},{new:!0});if(null!=a)return new Response(JSON.stringify(a),{status:201,headers:{"Content-Type":"application/json"}})}async function w(e){await (0,o.x)();let t=await e.json();try{let e=await c.create(t);return new Response(JSON.stringify(e),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error creating participant:",e),new Response("Failed to create participant",{status:500})}}let x=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/participants/[id]/route",pathname:"/api/participants/[id]",filename:"route",bundlePath:"app/api/participants/[id]/route"},resolvedPagePath:"/Users/abodhale/e-cart/CTIS/app/api/participants/[id]/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:y,workUnitAsyncStorage:f,serverHooks:b}=x;function v(){return(0,s.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:f})}},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},7679:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(6037),a=r.n(n);let i="mongodb+srv://abodhale:blgedfFHVAz4aSsV@cluster0.qdtfbk8.mongodb.net/CTRS?retryWrites=true&w=majority&appName=Cluster0";if(!i)throw Error("Please define the MONGO_URI environment variable inside .env.local");let s=global.mongoose;async function o(){return s.conn||(s.promise||(s.promise=a().connect(i,{dbName:"CTRS",bufferCommands:!1}).then(e=>e)),s.conn=await s.promise),s.conn}s||(s=global.mongoose={conn:null,promise:null})},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,580],()=>r(4622));module.exports=n})();