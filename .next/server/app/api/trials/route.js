(()=>{var e={};e.id=457,e.ids=[457],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},6493:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>y,serverHooks:()=>v,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>h});var n={};r.r(n),r.d(n,{GET:()=>m,POST:()=>g});var s=r(6559),a=r(8088),o=r(7719),i=r(7679),p=r(6037),u=r.n(p);let l=new p.Schema({id:{type:Number,required:!0},title:{type:String,required:!0},description:{type:String},condition:{type:String},treatment:{type:String},phase:{type:String},status:{type:String},startDate:{type:Date},endDate:{type:Date},location:{type:String},researcherId:{type:Number,required:!0}},{collection:"trial"}),d=u().models.Trial||u().model("Trial",l);var c=r(2190);async function m(){await (0,i.x)();let e=await d.find({});return c.NextResponse.json(e,{status:200})}async function g(e){await (0,i.x)();try{let t=await e.json(),r=await d.create(t);return new Response(JSON.stringify(r),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return console.error(e),new Response(JSON.stringify({error:"Failed to create trial"}),{status:500,headers:{"Content-Type":"application/json"}})}}let y=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/trials/route",pathname:"/api/trials",filename:"route",bundlePath:"app/api/trials/route"},resolvedPagePath:"/Users/abodhale/e-cart/CTIS/app/api/trials/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:x,workUnitAsyncStorage:h,serverHooks:v}=y;function f(){return(0,o.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:h})}},7679:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var n=r(6037),s=r.n(n);let a="mongodb+srv://abodhale:blgedfFHVAz4aSsV@cluster0.qdtfbk8.mongodb.net/CTRS?retryWrites=true&w=majority&appName=Cluster0";if(!a)throw Error("Please define the MONGO_URI environment variable inside .env.local");let o=global.mongoose;async function i(){return o.conn||(o.promise||(o.promise=s().connect(a,{dbName:"CTRS",bufferCommands:!1}).then(e=>e)),o.conn=await o.promise),o.conn}o||(o=global.mongoose={conn:null,promise:null})},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,580],()=>r(6493));module.exports=n})();