(()=>{var e={};e.id=457,e.ids=[457],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3664:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>c,serverHooks:()=>y,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>g});var n={};r.r(n),r.d(n,{GET:()=>l,POST:()=>d});var s=r(6559),a=r(8088),i=r(7719),o=r(7679),p=r(3813),u=r(2190);async function l(){await (0,o.x)();let e=await p.z.find({});return u.NextResponse.json(e,{status:200})}async function d(e){await (0,o.x)();try{let t=await e.json(),r=await p.z.create(t);return new Response(JSON.stringify(r),{status:201,headers:{"Content-Type":"application/json"}})}catch(e){return console.error(e),new Response(JSON.stringify({error:"Failed to create trial"}),{status:500,headers:{"Content-Type":"application/json"}})}}let c=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/trials/route",pathname:"/api/trials",filename:"route",bundlePath:"app/api/trials/route"},resolvedPagePath:"/Users/abodhale/e-cart/CTIS/app/api/trials/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:m,workUnitAsyncStorage:g,serverHooks:y}=c;function x(){return(0,i.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:g})}},3813:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var n=r(6037),s=r.n(n);let a=new n.Schema({id:{type:Number,required:!0},title:{type:String,required:!0},description:{type:String},condition:{type:String},treatment:{type:String},phase:{type:String},status:{type:String},startDate:{type:Date},endDate:{type:Date},location:{type:String},researcherId:{type:Number,required:!0}},{collection:"trial"}),i=s().models.Trial||s().model("Trial",a)},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},7679:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(6037),s=r.n(n);let a="mongodb+srv://abodhale:blgedfFHVAz4aSsV@cluster0.qdtfbk8.mongodb.net/CTRS?retryWrites=true&w=majority&appName=Cluster0";if(!a)throw Error("Please define the MONGO_URI environment variable inside .env.local");let i=global.mongoose;async function o(){return i.conn||(i.promise||(i.promise=s().connect(a,{dbName:"CTRS",bufferCommands:!1}).then(e=>e)),i.conn=await i.promise),i.conn}i||(i=global.mongoose={conn:null,promise:null})},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,580],()=>r(3664));module.exports=n})();