(()=>{var e={};e.id=958,e.ids=[958],e.modules={164:(e,t,r)=>{Promise.resolve().then(r.bind(r,9951))},685:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/abodhale/e-cart/CTIS/app/trials/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/abodhale/e-cart/CTIS/app/trials/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1738:()=>{},2548:(e,t,r)=>{Promise.resolve().then(r.bind(r,685))},2704:()=>{},2952:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3224:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4271:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>h,tree:()=>l});var a=r(5239),s=r(8088),n=r(8170),i=r.n(n),o=r(893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l={children:["",{children:["trials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,685)),"/Users/abodhale/e-cart/CTIS/app/trials/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/Users/abodhale/e-cart/CTIS/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/Users/abodhale/e-cart/CTIS/app/trials/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/trials/page",pathname:"/trials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5389:()=>{},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(1658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>d});var a=r(7413),s=r(6389),n=r.n(s),i=r(1189),o=r.n(i);r(2704);let d={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${n().variable} ${o().variable} antialiased`,children:e})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9951:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(687),s=r(5814),n=r.n(s),i=r(3210);function o(){let[e,t]=(0,i.useState)([]),[r,s]=(0,i.useState)(!1),[o,d]=(0,i.useState)(!1),[l,p]=(0,i.useState)(null),[c,h]=(0,i.useState)({title:"",description:"",condition:"",treatment:"",phase:"",status:"",startDate:new Date,endDate:new Date,location:""});async function b(){let e=await fetch("https://ctis-dged.vercel.app/api/trials");t(await e.json())}function m(e){let{name:t,value:r}=e.target;h(e=>({...e,[t]:t.includes("Date")?new Date(r):r}))}async function u(){if(o&&null!==l){let e={...c,id:l};await fetch(`https://ctis-dged.vercel.app/api/trials/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}else{let t=e.length>0?Math.max(...e.map(e=>e.id)):0,r={...c,id:t+1,researcherId:1};await fetch("https://ctis-dged.vercel.app/api/trials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}s(!1),d(!1),p(null),b()}return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 bg-gray-300 p-2 rounded",children:[(0,a.jsx)("button",{onClick:function(){window.history.back()},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"← Back"}),(0,a.jsx)("h1",{className:"text-3xl",children:"Trial Data"}),(0,a.jsx)("button",{onClick:function(){h({title:"",description:"",condition:"",treatment:"",phase:"",status:"",startDate:new Date,endDate:new Date,location:""}),d(!1),p(null),s(!0)},className:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded",children:"+ New"})]}),r&&(0,a.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl mb-2",children:o?"Edit Trial":"Add New Trial"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{className:"border p-2",name:"title",placeholder:"Title",value:c.title,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"description",placeholder:"Description",value:c.description,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"condition",placeholder:"Condition",value:c.condition,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"treatment",placeholder:"Treatment",value:c.treatment,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"phase",placeholder:"Phase",value:c.phase,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"status",placeholder:"Status",value:c.status,onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"startDate",type:"date",value:c.startDate.toISOString().split("T")[0],onChange:m}),(0,a.jsx)("input",{className:"border p-2",name:"endDate",type:"date",value:c.endDate.toISOString().split("T")[0],onChange:m}),(0,a.jsx)("input",{className:"border p-2 col-span-2",name:"location",placeholder:"Location",value:c.location,onChange:m})]}),(0,a.jsx)("button",{onClick:u,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-6 rounded mt-4",children:o?"Update":"Save"})]}),(0,a.jsxs)("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Id"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Title"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Description"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Condition"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Treatment"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Phase"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Status"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Start Date"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"End Date"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Location"}),(0,a.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Action"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,a.jsx)(n(),{className:"text-blue-600 hover:underline hover:text-blue-800 font-medium",href:`/participants/${e.id}`,children:e.id})}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.title}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.description}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.condition}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.treatment}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.phase}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.status}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.startDate.toString().split("T")[0]}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.endDate.toString().split("T")[0]}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.location}),(0,a.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,a.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-1 rounded",onClick:()=>{h({title:e.title,description:e.description,condition:e.condition,treatment:e.treatment,phase:e.phase,status:e.status,startDate:new Date(e.startDate),endDate:new Date(e.endDate),location:e.location}),d(!0),p(e.id),s(!0)},children:"Edit"})})]},e.id))})]})]})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,985,658,814],()=>r(4271));module.exports=a})();