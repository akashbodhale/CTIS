(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{5445:(e,a,r)=>{Promise.resolve().then(r.bind(r,7534))},7534:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var t=r(5155),s=r(2115);function d(e){let{params:a}=e,{id:r}=(0,s.use)(a),[d,l]=(0,s.useState)([]),[n,c]=(0,s.useState)(!1),[o,i]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[b,m]=(0,s.useState)(null),[x,y]=(0,s.useState)({name:"",dob:"",gender:"",contact:"",medicalHistory:""});(0,s.useEffect)(()=>{g()},[]);let g=async()=>{let e=await fetch("http://localhost:3000/api/participants/".concat(r));l(await e.json())},u=e=>{let{name:a,value:r}=e.target;y(e=>({...e,[a]:r}))},N=e=>{var a,r;y({name:e.name,dob:null!=(r=null==(a=e.dob)?void 0:a.split("T")[0])?r:"",gender:e.gender,contact:e.contact,medicalHistory:e.medicalHistory}),m(e.id),i(!0),c(!0)},j=async e=>{await fetch("http://localhost:3000/api/participants/".concat(e),{method:"DELETE"}),g(),h(!0)},v=async()=>{let e={...x,trialId:Number(r)};if(o&&null!==b)await fetch("http://localhost:3000/api/participants/".concat(b),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,id:b})});else{let a=d.length>0?Math.max(...d.map(e=>e.id)):0,r={...e,id:a+1};await fetch("http://localhost:3000/api/participants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}c(!1),i(!1),m(null),g()};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 bg-gray-300 p-2 rounded",children:[(0,t.jsx)("button",{className:"text-white bg-blue-500 px-4 py-2 rounded hover:bg-blue-600",onClick:()=>window.history.back(),children:"â† Back"}),(0,t.jsx)("h1",{className:"text-3xl",children:"Participants Data"}),(0,t.jsx)("button",{className:"border bg-green-500 text-white px-6 py-3 text-xl rounded hover:bg-green-600",onClick:()=>{y({name:"",dob:"",gender:"",contact:"",medicalHistory:""}),i(!1),m(null),c(!0)},children:"+ New"})]}),n&&(0,t.jsxs)("div",{className:"bg-gray-100 p-4 rounded mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl mb-2",children:o?"Edit Participant":"Add New Participant"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("input",{className:"border p-2",name:"name",placeholder:"Name",value:x.name,onChange:u}),(0,t.jsx)("input",{className:"border p-2",name:"dob",type:"date",value:x.dob,onChange:u}),(0,t.jsx)("input",{className:"border p-2",name:"gender",placeholder:"Gender",value:x.gender,onChange:u}),(0,t.jsx)("input",{className:"border p-2",name:"contact",placeholder:"Contact",value:x.contact,onChange:u}),(0,t.jsx)("input",{className:"border p-2 col-span-2",name:"medicalHistory",placeholder:"Medical History",value:x.medicalHistory,onChange:u})]}),(0,t.jsx)("button",{onClick:v,className:"bg-green-600 hover:bg-green-700 text-white py-2 px-6 rounded mt-4",children:o?"Update":"Save"})]}),p&&(0,t.jsxs)("div",{className:"bg-red-200",children:["Need authorization from GOVT. This action isn't Allowed."," "]}),(0,t.jsxs)("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Id"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Name"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"DOB"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Gender"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Contact"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Medical History"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:d.map(e=>{var a;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.id}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:null==(a=e.dob)?void 0:a.split("T")[0]}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.gender}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.contact}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.medicalHistory}),(0,t.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[(0,t.jsx)("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded mr-2",onClick:()=>N(e),children:"Edit"}),(0,t.jsx)("button",{className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",onClick:()=>j(e.id),children:"Delete"})]})]},e.id)})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(5445)),_N_E=e.O()}]);